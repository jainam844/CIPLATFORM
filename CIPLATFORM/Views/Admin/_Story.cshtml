@using CIPLATFORM.Entities.ViewModels
@model AdminViewModel
<style>


    .pagination > li > a {
        background-color: white;
        color: #5A4181;
    }

        .pagination > li > a:focus,
        .pagination > li > a:hover,
        .pagination > li > span:focus,
        .pagination > li > span:hover {
            color: #FFFFFF;
            background-color: #F88634;
            border-color: #ddd;
        }

    .pagination > .active > a {
        color: white;
        background-color: #5A4181 !Important;
        border: solid 1px #5A4181 !Important;
    }

        .pagination > .active > a:hover {
            background-color: #5A4181 !Important;
            border: solid 1px #5A4181;
        }
       
    .view:hover {
    color: black;
}

</style>

<div id="cmspage">
    <table class="table mt-3">
        <tbody>

            <tr style="background-color: #F8F9FC;">
                <th scope="col">Story Title</th>
                <th scope="col">Full Name</th>

                <th scope="col">Mission Title</th>

                <th scope="col" style="text-align: center;">Action</th>
            </tr>
            @foreach (var obj in Model.stories)
            {
                <tr>
                    <td> @obj.Title</td>

                    <td> @obj.User.FirstName @obj.User.LastName</td>
                    <td>@obj.Mission.Title</td>

                    <td style=" text-align:center;">
                        <button type="button"
                            class="btn btn-outline-warning rounded-pill" style="height: 4vh;">
                           <a asp-controller="Platform" asp-action="StoryDetail" asp-route-sid="@obj.StoryId" style="text-decoration:none;color:#ffc107">
                           <span class="view">View</span>
                       </a>
                           
                        </button>
                        <button type="button" class="btn p-0 me-3" onclick=" if (confirm('Are you sure you want to Accept?')) { return location.href=' @Url.Action("Approval", "Admin" ,new {id = @obj.StoryId,page = 7,status = 1})' } ">
                            <i class="bi bi-check-circle" style="color: green;"></i>

                        </button>
                        <button type="button" class="btn p-0 me-3" onclick=" if (confirm('Are you sure you want to Decline?')) { return location.href=' @Url.Action("Approval", "Admin" ,new {id = @obj.StoryId,page = 7,status = 0})' } ">
                            <i class="bi bi-x-circle" style="color: red;"></i>
                        </button>
                        <button type="button" class="btn p-0" onclick=" if (confirm('Are you sure you want to delete?')) { return location.href='@Url.Action("DeleteActivity", "Admin" ,new {id = @obj.StoryId,page = 6})' } ">
                            <i class="bi bi-trash ms-3"></i>
                        </button>
                    </td>
                </tr>
            }

        </tbody>
    </table>
</div>


<nav aria-label="Page navigation example mt-5" id="cmspage">
    <ul class="pagination justify-content-end me-5" onchange="searchuser(1,'story')">

        @{
            double totalpages = ViewBag.Totalpages7;



            for (int i = 1; i <= totalpages; i++)
            {
                @if (i == ViewBag.pg_no)
                {
                    <li class="page-item  ">
                        <a class="page-link  " onclick="searchuser(@i,'story')">@i </a>

                    </li>
                }
                else
                {
                    <li class="page-item">
                        <a class="page-link" onclick="searchuser(@i,'story')">@i</a>
                    </li>
                }


            }
        }


    </ul>
</nav>
